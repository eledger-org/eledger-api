<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"App.js.html":{"id":"App.js.html","title":"Source: App.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: App.js /** * @module App * * @description * App serves as the entry point for starting the application. */ &quot;use strict&quot;; var _ = require(&quot;underscore&quot;); var express = require(&quot;express&quot;)(); var conf = require(&quot;config&quot;); var fs = require(&quot;fs&quot;); var Log = require(&quot;node-android-logging&quot;); var Mysqlc = require(&quot;./Mysqlc&quot;); var DbUpgrade = require(&quot;./DbUpgrade&quot;); var swaggerInit = require(&quot;swagger-tools&quot;).initializeMiddleware; _.mixin({ coalesce: function() { for (let i = 0; i &lt; arguments.length; ++i) { let arg = arguments[i]; if ((!_.isNaN(arg)) &amp;&amp; (!_.isNull(arg)) &amp;&amp; (!_.isUndefined(arg))) { return arguments[i]; } } } }); module.exports = express; // for testing /* Access and error logs */ if (process.env.APACHE_LOGS !== undefined) { express.use(require(&quot;morgan&quot;)(&quot;combined&quot;)); } /* */ express.all(&quot;/*&quot;, function(req, res, next) { let root = __dirname + &quot;/node_modules/eledger-web&quot;; /* The default action is to send the index.html page and let Angular handle routing. * * The other actions include: * - Swagger API endpoint * - Static file endpoint */ var defaultAction = function() { res.sendFile(&quot;index.html&quot;, { root: root }); }; /* The Swagger API endpoints all start with /api */ if (req.path.startsWith(&quot;/api&quot;)) { /** I really don't want the browser to cache these api calls. **/ res.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;); res.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;); res.setHeader(&quot;Expires&quot;, 0); res.setHeader(&quot;Last-Modified&quot;, (new Date()).toUTCString()); /* Since we've established that this is not an angular endpoint, allow the next middleware to process. */ next(); } else { /* If the user is requesting one of the Angular routes, we'll send them the index.html file since Angular * handles it from there. * * In order to avoid hard coding the Angular routes into this program as well, we look to see if a static * file exists at the path they're requesting (within the root directory ./node_modules/eledger-web). * * If the file does exist at that path, they aren't requesting an API endpoint. * If no file exists at that path, they are requesting an Angular2 API endpoint. */ fs.lstat(root + req.path, function(err, stats) { if (err) { defaultAction(); } else { if (stats.isFile()) { res.sendFile(root + req.path); } else { defaultAction(); } } }); } }); /* Select a port */ var port; if (conf.has(&quot;port&quot;)) { port = conf.get(&quot;port&quot;); } /** * Order prefers: * - process.env.PORT * - config/**.json#port * - 4443 */ port = process.env.PORT || port || 4443; /* * Prepare DB */ try { Mysqlc.connect(); DbUpgrade.initializeModels(); DbUpgrade.setupQueries(); DbUpgrade.upgrade(); } catch (ex) { Log.E(ex); process.exit(1); } var sourceFile = &quot;./api/swagger/index.json&quot;; swaggerInit(require(sourceFile), function (swaggerTools) { express.listen(port); express.use(swaggerTools.swaggerMetadata()); express.use(swaggerTools.swaggerValidator()); express.use(swaggerTools.swaggerRouter({ &quot;controllers&quot;: &quot;api/controllers&quot; })); express.use(swaggerTools.swaggerUi()); Log.I(&quot;Listening on port &quot; + port); }); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_DatabaseVersion.js.html":{"id":"models_DatabaseVersion.js.html","title":"Source: models/DatabaseVersion.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/DatabaseVersion.js /** * @module DatabaseVersion * @extends DefaultModelActions */ &quot;use strict&quot;; var defaultModel = require(&quot;./DefaultModelActions&quot;); for (var prop in defaultModel) { module.exports[prop] = defaultModel[prop]; } module.exports.tName = &quot;DatabaseVersion&quot;; /************************************************************************************************************ * Initial Create Statements. ***********************************************************************************************************/ module.exports.initialCreates = [ ` CREATE TABLE DatabaseVersion ( databaseVersion BIGINT UNSIGNED NOT NULL ); `, ` INSERT INTO DatabaseVersion (databaseVersion) VALUES (0.5 * 1000); ` ]; /************************************************************************************************************ * Migrate Statements. ***********************************************************************************************************/ module.exports.migrates = [ { sortFloatIndex: 0, query: module.exports.initialCreates[0] }, { sortFloatIndex: 0.5, query: module.exports.initialCreates[1] } ]; /************************************************************************************************************ * Final Create Statements. ***********************************************************************************************************/ module.exports.finalCreates = module.exports.initialCreates.slice(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"api_controllers_DatabaseVersionController.js.html":{"id":"api_controllers_DatabaseVersionController.js.html","title":"Source: api/controllers/DatabaseVersionController.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: api/controllers/DatabaseVersionController.js /** * @module DatabaseVersionController */ &quot;use strict&quot;; var DatabaseVersion = require(&quot;../../models/DatabaseVersion&quot;); var Log = require(&quot;node-android-logging&quot;); module.exports = { getDatabaseVersion: getDatabaseVersion }; /** * getDatabaseVersion retrieves the Database Version from the database and returns it via the response. */ function getDatabaseVersion(request, response) { DatabaseVersion.select().then(function(databaseVersion) { response.json(databaseVersion); }).catch(function(rejection) { Log.E(rejection); response.status(500).json({ &quot;result&quot;: &quot;ERROR&quot;, &quot;message&quot;: &quot;Unable to retrieve database version&quot; }); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"DbUpgrade.js.html":{"id":"DbUpgrade.js.html","title":"Source: DbUpgrade.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: DbUpgrade.js /** * @module DbUpgrade * * @description * DbUpgrade provides an interface for adding create and migrate statements and upgrading an existing * database with the migration steps required to bring it current. * * The create statements can be used to generate the database from scratch. */ &quot;use strict&quot;; var _ = require(&quot;underscore&quot;); var Log = require(&quot;node-android-logging&quot;); var Mysqlc = require(&quot;./Mysqlc&quot;); var Q = require(&quot;q&quot;); var squel = require(&quot;squel&quot;); /** * addCreate builds the list of create statements necessary to create the database from scratch * * This is unordered because I'm not using foreign keys, so the order of creation doesn't matter. * * Foreign key constraints must be handled by the software instead. * * @param {String} query The query string for initially creating the model for a brand new database */ function addCreate(query) { if (this.create === undefined) { this.create = Array(); } this.create.push({ query: query }); } /** * addMigrate builds the list of migration statements necessary to upgrade a database from any version to * the latest * * @param {Number} sortFloatIndex * The sortFloatIndex in the ordered list to execute this migration statement. * Filling in this value requires the developer to manually search through all * of the models ({APP_ROOT}/models/*) in order to locate the highest * sortFloatIndex used so far. The new call to this function should be one * higher. This can be a decimal, so that you can insert between items if need * be, but not more granular than 0.001 (I am multiplying by 1000 and storing * in a BIGINT UNSIGNED field. * @param {String} query The query string for initially creating the model for a brand new database */ function addMigrate(sortFloatIndex, query) { if (this.migrate === undefined) { this.migrate = Array(); } // If there's an existing migrate statement with the same sortFloatIndex let migratesFiltered = _.filter(this.migrate, function(migrateItem) { return migrateItem.sortFloatIndex === sortFloatIndex; }); if (migratesFiltered.length &gt; 0) { Log.E(&quot;Existing migrate statement: &quot;); Log.E(migratesFiltered); Log.E(&quot;New query with the same index: &quot;); Log.E(query); throw new Error(&quot;Each call to this function must use a unique sortFloatIndex parameter&quot;); } else { this.migrate.push({ sortFloatIndex: sortFloatIndex, query: query }); } } function upgrade() { let model = this; let query = &quot;SHOW TABLES&quot;; /* List all of the available tables. We're looking for 0 or not 0 total to determine whether * we create the database from scratch or migrate the database using our migrate statements. * * The end of this promise block will be to resolve with an array of queries to execute. */ Mysqlc.rawQueryPromise(query).then(function(result) { Log.I(result); if (result.length &gt; 0) { let query = squel.select() .from(&quot;DatabaseVersion&quot;) .toString(); Log.I(query); return Mysqlc.rawQueryPromise(query).then(function(result) { return new Q.Promise(function(resolve) { Log.I(result); let dbVersion = parseInt(result[0].databaseVersion) / 1000; let queries = _.filter(model.migrate, function(migrateItem) { return dbVersion &lt; migrateItem.sortFloatIndex; }); resolve(queries.sort(function(lhs, rhs) { if (lhs.sortFloatIndex &lt; rhs.sortFloatIndex) { return -1; } else if (lhs.sortFloatIndex &gt; rhs.sortFloatIndex) { return 1; } else { throw new Error(&quot;Invalid sortFloatIndices, somehow two match.&quot;); } })); }); }); } else { return new Q.Promise(function(resolve) { resolve(model.create); }); } /* Now that we have the list of queries that we want to execute, we'll run them all in separate * promises. (Q.all does this for us) */ }).then(function(queries) { Log.I(&quot;Detected &quot; + queries.length + &quot; queries to run to bring the database to current.&quot;); return Q.all(_.map(queries, function(queryItem) { Log.I(queryItem); return Mysqlc.rawQueryPromise(queryItem.query); })); /* Let's print out the highest migrate sortFloatIndex so that the next developer can easily * select a new index to use for the new model or database migration step. */ }).then(function() { return Q.Promise(function(resolve) { let maxSortFloatIndex = _.max(model.migrate, function(migrateItem) { return migrateItem.sortFloatIndex; }).sortFloatIndex; Log.I(&quot;Highest migrate sortFloatIndex: &quot; + maxSortFloatIndex); resolve(maxSortFloatIndex); }); /* Lastly, let's update the database version now that we've successfully committed our changes * to the database. */ }).then(function(maxSortFloatIndex) { let query = squel.update() .table(&quot;DatabaseVersion&quot;) .set(&quot;databaseVersion&quot;, maxSortFloatIndex * 1000) .toString(); return Mysqlc.rawQueryPromise(query); /* Any errors will end up as rejections that we can print out and handle how we wish. * * The setTimeout is necessary to prevent Q from absorbing the error that we want to throw to * bring down the program upon a failure on the upgrade stack. */ }).catch(function(rejection) { Log.E(rejection); setTimeout(function() { throw new Error(&quot;Could not upgrade&quot;); }, 0); }); } function validateModel(model) { let reason; if (model.finalCreates.length === 0) { reason = model.tName + &quot;.finalCreates length is 0&quot;; } else if (model.migrates.length === 0) { reason = model.tName + &quot;.migrates length is 0&quot;; } else { module.exports.models.push(model); return; } Log.E(model); throw new TypeError(&quot;Invalid model (&quot; + reason + &quot;)&quot;); } function initializeModels() { var models = Array(); models.push(&quot;./models/DatabaseVersion&quot;); models.push(&quot;./models/LedgerEntries&quot;); models.push(&quot;./models/UploadReadings&quot;); models.push(&quot;./models/Uploads&quot;); models.push(&quot;./models/Users&quot;); models.forEach(function(modelFilePath) { let model = require(modelFilePath); module.exports.models.push(model); }); } function setupQueries() { module.exports.models.forEach(function(model) { validateModel(model); model.setupQueries(); }); } module.exports.addCreate = addCreate; module.exports.addMigrate = addMigrate; module.exports.upgrade = upgrade; module.exports.initializeModels = initializeModels; module.exports.setupQueries = setupQueries; module.exports.models = Array(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_DefaultModelActions.js.html":{"id":"models_DefaultModelActions.js.html","title":"Source: models/DefaultModelActions.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/DefaultModelActions.js /** * @module DefaultModelActions * * @description * DefaultModelActions is a parent class to each model which provides some default actions and * documentation for building new models. */ &quot;use strict&quot;; var _ = require(&quot;underscore&quot;); var Mysqlc = require(&quot;../Mysqlc&quot;); var squel = require(&quot;squel&quot;); var upgrade = require(&quot;../DbUpgrade&quot;); var tName = &quot;&quot;; var DEFAULT_OFFSET = 0; var DEFAULT_LIMIT = 10; module.exports = { tName: tName, setupQueries: setupQueries, finalCreates: [], migrates: [], DEFAULT_OFFSET: DEFAULT_OFFSET, DEFAULT_LIMIT: DEFAULT_LIMIT, select: select, count: count }; /** * Selects from the database and returns a Q.Promise to return the results. * * @param {number} [offset=0] The offset to request from within the result set * @param {number} [limit=0] The maximum number of records to request from within the result set * * @returns Q.Promise A promise to return the results * * @example * // res.json sends a JSON string containing the uploads according to the parameters passed * select().then(function(uploads) { * res.json(uploads); * }); */ function select(offset, limit) { let query = squel.select() .from(this.tName) .offset(_().coalesce(offset, this.DEFAULT_OFFSET)) .limit(_().coalesce(limit, this.DEFAULT_LIMIT)) /* .offset(_(offset, 0).coalesce(offset, 0)) .limit(_(limit, 10).coalesce(limit, 10)) */ .toString(); return Mysqlc.rawQueryPromise(query); } /** * Selects the count from the given table and returns a Q.Promise to return the count. * * @returns Q.Promise A promise to return the count * * @example * // res.json sends a JSON string containing the uploads according to the parameters passed * count().then(function(uploads) { * res.json({ * count: uploads[0].count * }); * }); */ function count() { let query = squel.select() .field(&quot;COUNT(*)&quot;, &quot;count&quot;) .from(this.tName) .toString(); return Mysqlc.rawQueryPromise(query); } /** * Sets up the create statements and migrate statements for each model. * * In order for this function to work, each model much specify an array of finalCreates (queries that can * build the model from scratch in the database) and migrates (queries that can upgrade the model from any * previous version). * * For an application example, see ./models/LedgerEntries.js * * @example * // Provide queries to initially create the database. * module.exports.initialCreates = [ ` * CREATE TABLE Car ( * id BIGINT UNSIGNED AUTO_INCREMENT, * color VARCHAR(255) * ); * ` ]; * * // Map the initialCreates to a migrates query. Add each subsequent modification (ALTER TABLE) to future * // sortFloatIndex values, while making sure not to step on the toes of other sortFloatIndices. * module.exports.migrates = [ * { * sortFloatIndex: 0, * query: module.exports.initialCreates[0] * } * ]; * * // Clone initialCreates initially. After alter tables, this array should always contain the latest * // queries to build the database from scratch. * module.exports.finalCreates = module.exports.initialCreates.slice(); */ function setupQueries() { this.finalCreates.forEach(function(create) { upgrade.addCreate(create); }); this.migrates.forEach(function(migrate) { upgrade.addMigrate(migrate.sortFloatIndex, migrate.query); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_LedgerEntries.js.html":{"id":"models_LedgerEntries.js.html","title":"Source: models/LedgerEntries.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/LedgerEntries.js /** * @module LedgerEntries * @extends DefaultModelActions */ &quot;use strict&quot;; var defaultModel = require(&quot;./DefaultModelActions&quot;); for (var prop in defaultModel) { module.exports[prop] = defaultModel[prop]; } module.exports.tName = &quot;LedgerEntries&quot;; /************************************************************************************************************ * Initial Create Statements. ***********************************************************************************************************/ module.exports.initialCreates = [ ` CREATE TABLE LedgerEntries ( id BIGINT UNSIGNED AUTO_INCREMENT, generalLedgerDate BIGINT UNSIGNED NOT NULL, description VARCHAR(255) NOT NULL, account VARCHAR(255) NOT NULL, reconciled VARCHAR(255) DEFAULT &quot;NO&quot;, credit BIGINT DEFAULT 0, debit BIGINT DEFAULT 0, createdDate BIGINT UNSIGNED NOT NULL, createdBy BIGINT UNSIGNED NOT NULL, modifiedDate BIGINT UNSIGNED DEFAULT NULL, modifiedBy BIGINT UNSIGNED DEFAULT NULL, deletedDate BIGINT UNSIGNED DEFAULT NULL, deletedBy BIGINT UNSIGNED DEFAULT NULL, PRIMARY KEY (id) ) `, ` CREATE FUNCTION bigintCurrencyString(bigintInput BIGINT, decimalPlaces INT) RETURNS CHAR(20) DETERMINISTIC BEGIN DECLARE inputChar CHAR(20); DECLARE length INT; DECLARE currency CHAR(20); SET inputChar = CAST(ROUND(bigintInput, -5 + decimalPlaces) AS char); SET length = LENGTH(inputChar); IF (length &gt; 5) THEN SET currency = CONCAT(LEFT(inputChar, length - 5), &quot;.&quot;, MID(inputChar, length - 5, decimalPlaces)); ELSE SET currency = CONCAT(&quot;0.&quot;, LEFT(LPAD(inputChar, 5, &quot;0&quot;), decimalPlaces)); END IF; return currency; END ` ]; /************************************************************************************************************ * Migrate Statements. ***********************************************************************************************************/ module.exports.migrates = [ { sortFloatIndex: 10, query: module.exports.initialCreates[0] }, { sortFloatIndex: 11, query: module.exports.initialCreates[1] } ]; /************************************************************************************************************ * Final Create Statements. ***********************************************************************************************************/ module.exports.finalCreates = module.exports.initialCreates.slice(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"api_controllers_LedgerEntriesController.js.html":{"id":"api_controllers_LedgerEntriesController.js.html","title":"Source: api/controllers/LedgerEntriesController.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: api/controllers/LedgerEntriesController.js /** * @module LedgerEntriesController */ &quot;use strict&quot;; var LedgerEntries = require(&quot;../../models/LedgerEntries&quot;); var Log = require(&quot;node-android-logging&quot;); var Q = require(&quot;q&quot;); module.exports = { getLedgerEntries: getLedgerEntries }; /** * getLedgerEntries retrieves the Ledger Entries from the database and returns them via the response. */ function getLedgerEntries(request, response) { LedgerEntries.select(request.query.offset, request.query.limit).then(function(ledgerEntries) { return LedgerEntries.count().then(function(count) { return new Q.Promise(function(resolve) { response.json({ &quot;length&quot;: ledgerEntries.length, &quot;results&quot;: ledgerEntries, &quot;count&quot;: count[0].count }); resolve(); }); }); }).catch(function(rejection) { Log.E(rejection); response.status(500).json({ &quot;result&quot;: &quot;ERROR&quot;, &quot;message&quot;: &quot;Unable to retrieve ledger entries&quot; }); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"Mysqlc.js.html":{"id":"Mysqlc.js.html","title":"Source: Mysqlc.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: Mysqlc.js /** * @module Mysqlc * * @description * Mysqlc provides an interface for connecting to a mysql database and generating Q.Promises from mysql * queries. */ &quot;use strict&quot;; var config = require(&quot;config&quot;); var Log = require(&quot;node-android-logging&quot;); var mysql = require(&quot;mysql&quot;); var Q = require(&quot;q&quot;); let db = { &quot;password&quot;: { key: &quot;db.password&quot;, def: &quot;&quot; }, &quot;host&quot;: { key: &quot;db.host&quot;, def: &quot;localhost&quot; }, &quot;user&quot;: { key: &quot;db.user&quot;, def: &quot;eledger&quot; }, &quot;name&quot;: { key: &quot;db.name&quot;, def: &quot;eledger&quot; }, &quot;debug&quot;: { key: &quot;db.debug&quot;, def: false }, &quot;development&quot;: { key: &quot;development&quot;, def: false } }; for (let prop in db) { if (config.has(db[prop].key)) { db[prop] = config.get(db[prop].key); } else { db[prop] = db[prop].def; } } if (db.development === &quot;development&quot; || process.env.NODE_ENV === &quot;development&quot;) { Log.I(config); } else { Log.I(&quot;Launching eledger as &quot; + process.env.NODE_ENV); } module.exports.connect = function() { let Mysqlc = mysql.createConnection({ password: db.password, host: db.host, user: db.user, database: db.name, debug: db.debug }); Mysqlc.connect(function(err) { if (err) { Log.E(err); setTimeout(require(&quot;./Mysqlc&quot;).connect, 2000); } }); Mysqlc.on(&quot;error&quot;, function(err) { Log.E(err); if (err.code === &quot;PROTOCOL_CONNECTION_LOST&quot;) { Log.W(&quot;Lost connection, trying to reconnect.&quot;); require(&quot;./Mysqlc&quot;).connect(); } else { throw err; } }); exports.Mysqlc = Mysqlc; }; module.exports.rawQueryPromise = function(statement) { let lType = typeof statement; if (lType !== &quot;string&quot;) { let errorMessage = &quot;Try passing a string instead of a[n] &quot; + lType; throw new TypeError(errorMessage); } Log.T(&quot;\\n----&quot; + statement + &quot;\\n&quot;); return new Q.Promise(function(resolve, reject) { require(&quot;./Mysqlc&quot;).Mysqlc.query(statement, function(err, rows, fields) { if (err) { reject({ &quot;err&quot;: err, &quot;errstack&quot;: err.stack, &quot;rows&quot;: rows, &quot;fields&quot;: fields, &quot;statement&quot;: statement }); } else { let message = &quot;Query success.&quot;; if (rows.length !== undefined) { message += &quot; Row count: &quot; + rows.length; } Log.T(message); resolve(rows); } }); }); }; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_UploadReadings.js.html":{"id":"models_UploadReadings.js.html","title":"Source: models/UploadReadings.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/UploadReadings.js /** * @module UploadReadings * @extends DefaultModelActions */ &quot;use strict&quot;; var defaultModel = require(&quot;./DefaultModelActions&quot;); for (var prop in defaultModel) { module.exports[prop] = defaultModel[prop]; } module.exports.tName = &quot;UploadReadings&quot;; /************************************************************************************************************ * Initial Create Statements. ***********************************************************************************************************/ module.exports.initialCreates = [ ` CREATE TABLE UploadReadings ( id BIGINT UNSIGNED AUTO_INCREMENT, uploadsId BIGINT UNSIGNED NOT NULL, ocrParamsJson VARCHAR(255) NOT NULL, dataJson VARCHAR(60000) NOT NULL, createdDate BIGINT UNSIGNED NOT NULL, createdBy BIGINT UNSIGNED NOT NULL, modifiedDate BIGINT UNSIGNED DEFAULT NULL, modifiedBy BIGINT UNSIGNED DEFAULT NULL, deletedDate BIGINT UNSIGNED DEFAULT NULL, deletedBy BIGINT UNSIGNED DEFAULT NULL, PRIMARY KEY (id) ); ` ]; /************************************************************************************************************ * Migrate Statements. ***********************************************************************************************************/ module.exports.migrates = [ { sortFloatIndex: 4, query: module.exports.initialCreates[0] }, { sortFloatIndex: 5, query: ` ALTER TABLE UploadReadings MODIFY COLUMN ocrParamsJson JSON NOT NULL, MODIFY COLUMN dataJson JSON NOT NULL; ` } ]; /************************************************************************************************************ * Final Create Statements. ***********************************************************************************************************/ module.exports.finalCreates = [ ` CREATE TABLE UploadReadings ( id BIGINT UNSIGNED AUTO_INCREMENT, uploadsId BIGINT UNSIGNED NOT NULL, ocrParamsJson JSON NOT NULL, dataJson JSON NOT NULL, createdDate BIGINT UNSIGNED NOT NULL, createdBy BIGINT UNSIGNED NOT NULL, modifiedDate BIGINT UNSIGNED DEFAULT NULL, modifiedBy BIGINT UNSIGNED DEFAULT NULL, deletedDate BIGINT UNSIGNED DEFAULT NULL, deletedBy BIGINT UNSIGNED DEFAULT NULL, PRIMARY KEY (id) ); ` ]; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"api_controllers_UploadReadings.js.html":{"id":"api_controllers_UploadReadings.js.html","title":"Source: api/controllers/UploadReadings.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: api/controllers/UploadReadings.js /** * @module UploadReadingsController */ &quot;use strict&quot;; var UploadReadings = require(&quot;../../models/UploadReadings&quot;); var Log = require(&quot;node-android-logging&quot;); var Q = require(&quot;q&quot;); module.exports = { get: get }; /** * get retrieves the UploadReadings from the database and returns them via the response. */ function get(request, response) { UploadReadings.select(request.query.offset, request.query.limit).then(function(uploadReadings) { return UploadReadings.count().then(function(count) { return new Q.Promise(function(resolve) { response.json({ &quot;length&quot;: uploadReadings.length, &quot;results&quot;: uploadReadings, &quot;count&quot;: count[0].count }); resolve(); }); }); }).catch(function(rejection) { Log.E(rejection); response.status(500).json({ &quot;result&quot;: &quot;ERROR&quot;, &quot;message&quot;: &quot;Unable to retrieve uploadReadings&quot; }); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_Uploads.js.html":{"id":"models_Uploads.js.html","title":"Source: models/Uploads.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/Uploads.js /** * @module Uploads * @extends DefaultModelActions */ &quot;use strict&quot;; var defaultModel = require(&quot;./DefaultModelActions&quot;); for (var prop in defaultModel) { module.exports[prop] = defaultModel[prop]; } module.exports.tName = &quot;Uploads&quot;; /************************************************************************************************************ * Initial Create Statements. ***********************************************************************************************************/ module.exports.initialCreates = [ ` CREATE TABLE uploads ( id BIGINT NOT NULL AUTO_INCREMENT, filename VARCHAR(255) NOT NULL, uniqid VARCHAR(255) NOT NULL, dt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id) ); ` ]; /************************************************************************************************************ * Migrate Statements. ***********************************************************************************************************/ module.exports.migrates = [ { sortFloatIndex: 1, query: module.exports.initialCreates[0] }, { sortFloatIndex: 2, query: ` ALTER TABLE uploads CHANGE COLUMN id id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT; ` }, { sortFloatIndex: 6, query: ` RENAME TABLE uploads TO Uploads ` }, { sortFloatIndex: 7, query: ` ALTER TABLE Uploads ADD COLUMN serviceName VARCHAR(255) NOT NULL AFTER id, ADD COLUMN createdDate BIGINT UNSIGNED NOT NULL, ADD COLUMN createdBy BIGINT UNSIGNED NOT NULL, ADD COLUMN modifiedDate BIGINT UNSIGNED DEFAULT NULL, ADD COLUMN modifiedBy BIGINT UNSIGNED DEFAULT NULL, ADD COLUMN deletedDate BIGINT UNSIGNED DEFAULT NULL, ADD COLUMN deletedBy BIGINT UNSIGNED DEFAULT NULL ` }, { sortFloatIndex: 8, query: ` UPDATE Uploads SET Uploads.createdDate = UNIX_TIMESTAMP(dt) ` }, { sortFloatIndex: 9, query: ` ALTER TABLE Uploads DROP COLUMN dt ` } ]; /************************************************************************************************************ * Final Create Statements. ***********************************************************************************************************/ module.exports.finalCreates = [ ` CREATE TABLE Uploads ( id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, serviceName VARCHAR(255) NOT NULL AFTER id, filename VARCHAR(255) NOT NULL, uniqid VARCHAR(255) NOT NULL, createdDate BIGINT UNSIGNED NOT NULL, createdBy BIGINT UNSIGNED NOT NULL, modifiedDate BIGINT UNSIGNED DEFAULT NULL, modifiedBy BIGINT UNSIGNED DEFAULT NULL, deletedDate BIGINT UNSIGNED DEFAULT NULL, deletedBy BIGINT UNSIGNED DEFAULT NULL, PRIMARY KEY (id) ); ` ]; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"api_controllers_UploadsController.js.html":{"id":"api_controllers_UploadsController.js.html","title":"Source: api/controllers/UploadsController.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: api/controllers/UploadsController.js /** * @module UploadsController */ &quot;use strict&quot;; var Uploads = require(&quot;../../models/Uploads&quot;); var Log = require(&quot;node-android-logging&quot;); var Q = require(&quot;q&quot;); module.exports = { getUploads: getUploads }; /** * getUploads retrieves the Uploads from the database and returns them via the response. */ function getUploads(request, response) { Uploads.select(request.query.offset, request.query.limit).then(function(uploads) { return Uploads.count().then(function(count) { return new Q.Promise(function(resolve) { response.json({ &quot;length&quot;: uploads.length, &quot;results&quot;: uploads, &quot;count&quot;: count[0].count }); resolve(); }); }); }).catch(function(rejection) { Log.E(rejection); response.status(500).json({ &quot;result&quot;: &quot;ERROR&quot;, &quot;message&quot;: &quot;Unable to retrieve uploads&quot; }); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"models_Users.js.html":{"id":"models_Users.js.html","title":"Source: models/Users.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: models/Users.js /** * @module Users * @extends DefaultModelActions */ &quot;use strict&quot;; var defaultModel = require(&quot;./DefaultModelActions&quot;); for (var prop in defaultModel) { module.exports[prop] = defaultModel[prop]; } module.exports.tName = &quot;Users&quot;; /************************************************************************************************************ * Initial Create Statements. ***********************************************************************************************************/ module.exports.initialCreates = [ ` CREATE TABLE users ( id BIGINT unsigned AUTO_INCREMENT, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, createdDate BIGINT UNSIGNED NOT NULL, createdBy BIGINT UNSIGNED NOT NULL, modifiedDate BIGINT UNSIGNED DEFAULT NULL, modifiedBy BIGINT UNSIGNED DEFAULT NULL, deletedDate BIGINT UNSIGNED DEFAULT NULL, deletedBy BIGINT UNSIGNED DEFAULT NULL, PRIMARY KEY (id) ); ` ]; /************************************************************************************************************ * Migrate Statements. ***********************************************************************************************************/ module.exports.migrates = [ { sortFloatIndex: 3, query: module.exports.initialCreates[0] }, { sortFloatIndex: 12, query: ` RENAME TABLE users TO Users; ` } ]; /************************************************************************************************************ * Final Create Statements. ***********************************************************************************************************/ module.exports.finalCreates = module.exports.initialCreates.slice(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"api_controllers_Users.js.html":{"id":"api_controllers_Users.js.html","title":"Source: api/controllers/Users.js","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Source: api/controllers/Users.js /** * @module UsersController */ &quot;use strict&quot;; var Users = require(&quot;../../models/Users&quot;); var Log = require(&quot;node-android-logging&quot;); var Q = require(&quot;q&quot;); module.exports = { get: get }; /** * get retrieves the Users from the database and returns them via the response. */ function get(request, response) { Users.select(request.query.offset, request.query.limit).then(function(users) { return Users.count().then(function(count) { return new Q.Promise(function(resolve) { response.json({ &quot;length&quot;: users.length, &quot;results&quot;: users, &quot;count&quot;: count[0].count }); resolve(); }); }); }).catch(function(rejection) { Log.E(rejection); response.status(500).json({ &quot;result&quot;: &quot;ERROR&quot;, &quot;message&quot;: &quot;Unable to retrieve users&quot; }); }); } × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Modules × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Eledger-API AboutEledger is an open source finance app. Eledger-api is the REST API which serves the finance data from a mysql database. This project is still a work in progress. × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-App.html":{"id":"module-App.html","title":"Module: App","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: App App serves as the entry point for starting the application. Source: App.js, line 1 Members &lt;inner&gt; port Order prefers: process.env.PORT config/**.json#port 4443 Source: App.js, line 103 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-DatabaseVersion.html":{"id":"module-DatabaseVersion.html","title":"Module: DatabaseVersion","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: DatabaseVersion Source: models/DatabaseVersion.js, line 1 Extends DefaultModelActions × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-DatabaseVersionController.html":{"id":"module-DatabaseVersionController.html","title":"Module: DatabaseVersionController","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: DatabaseVersionController Source: api/controllers/DatabaseVersionController.js, line 1 Methods &lt;inner&gt; getDatabaseVersion() getDatabaseVersion retrieves the Database Version from the database and returns it via the response. Source: api/controllers/DatabaseVersionController.js, line 17 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-DbUpgrade.html":{"id":"module-DbUpgrade.html","title":"Module: DbUpgrade","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: DbUpgrade DbUpgrade provides an interface for adding create and migrate statements and upgrading an existing database with the migration steps required to bring it current. The create statements can be used to generate the database from scratch. Source: DbUpgrade.js, line 1 Methods &lt;inner&gt; addCreate(query) addCreate builds the list of create statements necessary to create the database from scratch This is unordered because I'm not using foreign keys, so the order of creation doesn't matter. Foreign key constraints must be handled by the software instead. Parameters: Name Type Description query String The query string for initially creating the model for a brand new database Source: DbUpgrade.js, line 28 &lt;inner&gt; addMigrate(sortFloatIndex, query) addMigrate builds the list of migration statements necessary to upgrade a database from any version to the latest Parameters: Name Type Description sortFloatIndex Number The sortFloatIndex in the ordered list to execute this migration statement. Filling in this value requires the developer to manually search through all of the models ({APP_ROOT}/models/*) in order to locate the highest sortFloatIndex used so far. The new call to this function should be one higher. This can be a decimal, so that you can insert between items if need be, but not more granular than 0.001 (I am multiplying by 1000 and storing in a BIGINT UNSIGNED field. query String The query string for initially creating the model for a brand new database Source: DbUpgrade.js, line 52 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-DefaultModelActions.html":{"id":"module-DefaultModelActions.html","title":"Module: DefaultModelActions","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: DefaultModelActions DefaultModelActions is a parent class to each model which provides some default actions and documentation for building new models. Source: models/DefaultModelActions.js, line 1 Methods &lt;inner&gt; count() Selects the count from the given table and returns a Q.Promise to return the count. Source: models/DefaultModelActions.js, line 72 Returns: Q.Promise A promise to return the count Example // res.json sends a JSON string containing the uploads according to the parameters passed count().then(function(uploads) { res.json({ count: uploads[0].count }); }); &lt;inner&gt; select( [offset] [, limit]) Selects from the database and returns a Q.Promise to return the results. Parameters: Name Type Argument Default Description offset number &lt;optional&gt; 0 The offset to request from within the result set limit number &lt;optional&gt; 0 The maximum number of records to request from within the result set Source: models/DefaultModelActions.js, line 45 Returns: Q.Promise A promise to return the results Example // res.json sends a JSON string containing the uploads according to the parameters passed select().then(function(uploads) { res.json(uploads); }); &lt;inner&gt; setupQueries() Sets up the create statements and migrate statements for each model. In order for this function to work, each model much specify an array of finalCreates (queries that can build the model from scratch in the database) and migrates (queries that can upgrade the model from any previous version). For an application example, see ./models/LedgerEntries.js Source: models/DefaultModelActions.js, line 112 Example // Provide queries to initially create the database. module.exports.initialCreates = [ ` CREATE TABLE Car ( id BIGINT UNSIGNED AUTO_INCREMENT, color VARCHAR(255) ); ` ]; // Map the initialCreates to a migrates query. Add each subsequent modification (ALTER TABLE) to future // sortFloatIndex values, while making sure not to step on the toes of other sortFloatIndices. module.exports.migrates = [ { sortFloatIndex: 0, query: module.exports.initialCreates[0] } ]; // Clone initialCreates initially. After alter tables, this array should always contain the latest // queries to build the database from scratch. module.exports.finalCreates = module.exports.initialCreates.slice(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-LedgerEntries.html":{"id":"module-LedgerEntries.html","title":"Module: LedgerEntries","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: LedgerEntries Source: models/LedgerEntries.js, line 1 Extends DefaultModelActions × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-LedgerEntriesController.html":{"id":"module-LedgerEntriesController.html","title":"Module: LedgerEntriesController","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: LedgerEntriesController Source: api/controllers/LedgerEntriesController.js, line 1 Methods &lt;inner&gt; getLedgerEntries() getLedgerEntries retrieves the Ledger Entries from the database and returns them via the response. Source: api/controllers/LedgerEntriesController.js, line 18 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-Mysqlc.html":{"id":"module-Mysqlc.html","title":"Module: Mysqlc","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: Mysqlc Mysqlc provides an interface for connecting to a mysql database and generating Q.Promises from mysql queries. Source: Mysqlc.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-UploadReadings.html":{"id":"module-UploadReadings.html","title":"Module: UploadReadings","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: UploadReadings Source: models/UploadReadings.js, line 1 Extends DefaultModelActions × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-UploadReadingsController.html":{"id":"module-UploadReadingsController.html","title":"Module: UploadReadingsController","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: UploadReadingsController Source: api/controllers/UploadReadings.js, line 1 Methods &lt;inner&gt; get() get retrieves the UploadReadings from the database and returns them via the response. Source: api/controllers/UploadReadings.js, line 18 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-Uploads.html":{"id":"module-Uploads.html","title":"Module: Uploads","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: Uploads Source: models/Uploads.js, line 1 Extends DefaultModelActions × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-UploadsController.html":{"id":"module-UploadsController.html","title":"Module: UploadsController","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: UploadsController Source: api/controllers/UploadsController.js, line 1 Methods &lt;inner&gt; getUploads() getUploads retrieves the Uploads from the database and returns them via the response. Source: api/controllers/UploadsController.js, line 18 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-Users.html":{"id":"module-Users.html","title":"Module: Users","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: Users Source: models/Users.js, line 1 Extends DefaultModelActions × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "},"module-UsersController.html":{"id":"module-UsersController.html","title":"Module: UsersController","body":" Documentation Modules AppDatabaseVersionDatabaseVersionControllerDbUpgradeDefaultModelActionsLedgerEntriesLedgerEntriesControllerMysqlcUploadReadingsUploadReadingsControllerUploadsUploadsControllerUsersUsersController Module: UsersController Source: api/controllers/Users.js, line 1 Methods &lt;inner&gt; get() get retrieves the Users from the database and returns them via the response. Source: api/controllers/Users.js, line 18 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-06-26T14:11:31-07:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
